!function(){"use strict";new Swiper(".swiper",{direction:"vertical",centeredSlides:!0,slidesPerView:"auto",slideToClickedSlide:!0,scrollbar:{el:".swiper-scrollbar",draggable:!0},mousewheel:!0}),new Swiper(".frames-wrapper",{slidesPerView:"auto",freeMode:!0,spaceBetween:30,scrollbar:{el:".swiper-scrollbar",draggable:!0}});let e=[{alt:"green_book",image:"assets/images/greenbook_m.jpg",name:"Зеленая книга",parental:"16+",description:"комедия &#8226; драма &#8226; биография",imageUrl:"assets/images/greenbook_m.jpg",ticketsHref:"/green-book-tickets.html",schedule:["10:15","10:55","12:05","13:15","13:55","14:45","16:15","17:00","18:05","18:55","19:30","20:05"],genres:[" Комедия "," Драма "," Биография "],year:"2019",country:"США",director:"Питер Фарелли",time:"02:10",trailerURL:""},{name:"Капитан Марвел",alt:"captain_marvel",image:"assets/images/captain_marvel_m.jpg",parental:"16+",description:"фантастика &#8226; боевик &#8226; приключения",name:"Капитан Марвел",ticketsHref:"/captain_marvel_tickets.html",imageUrl:"assets/images/captain_marvel_m.jpg",schedule:["10:15","10:55","12:05","13:15","13:55","14:45","16:15","17:00","18:05","18:55","19:30","20:05","20:55","21:25","22:05","23:15","00:35"],genres:[" Фантастика"," Боевик"," Приключения"],year:"2019",country:"США",director:"Анна Боден, Райан Флек",time:"02:03",trailerURL:""},{name:"Как приручить дракона",alt:"pet_dragon",image:"assets/images/pet_dragons_m.jpg",parental:"6+",description:"мультфильм &#8226; фентези &#8226; боевик",ticketsHref:"/pet_dragons_tickets.html",imageUrl:"assets/images/pet_dragons_m.jpg",schedule:["10:15","10:55","12:05","13:15","13:55","14:45","16:15","17:00","18:05","18:55","19:30"],genres:[" Мультфильм"," Фентези"," Боевик"],year:"2019",country:"США",director:"Дин ДеБлуа",time:"01:44",trailerURL:""},{name:"Алита: Боевой Ангел",alt:"alita",image:"assets/images/alita_m.jpg",parental:"6+",description:"фантастика &#8226; боевик &#8226; триллер",ticketsHref:"/alita_tickets.html",imageUrl:"assets/images/alita_m.jpg",schedule:["10:15","10:55","12:05","13:15","13:55","14:45","16:15","17:00","18:05","18:55","19:30","21:00"],genres:[" Фантастика "," боевик "," триллер "],year:"2019",country:"США",director:"Роберт Родригес",time:"02:01",trailerURL:""},{name:"Родители легкого поведения",alt:"drunk_parents",image:"assets/images/drunk_parents_m.jpg",parental:"16+",description:"комедия",ticketsHref:"/drunk_parents_tickets.html",schedule:["13:55","14:45","16:15","17:00","18:05","18:55","19:30"],genres:[" Комедия "],year:"2019",country:"США",director:"Питер Фарелли",time:"01:36",trailerURL:""},{alt:"van_goghs",image:"assets/images/van_goghs_m.jpg",name:"Ван Гоги",parental:"16+",description:"драма"},{alt:"alien",image:"assets/images/alien_m.jpg",name:"Чужой",parental:"16+",description:"ужасы &#8226; фантастика &#8226; триллер"},{alt:"guests",image:"assets/images/guests_m.jpg",name:"Гости",parental:"16+",description:"триллер &#8226; ужасы &#8226; мелодрама"},{alt:"happy_death_day",image:"assets/images/happy_death_day_m.jpg",name:"Счастливого дня смерти",parental:"16+",description:"ужасы &#8226; фантастика &#8226; детектив"}],t=document.querySelector(".seanses"),c=sessionStorage.getItem("filmName");function s(e,t){for(let c=0;c<e.schedule.length;c++){let s=document.createElement("div");s.className="time__block",s.innerHTML=e.schedule[c]+'<span class ="mode__2d3d"> 2D </span>',t.append(s)}}function o(e){let t=document.querySelector(`.${e}`).querySelectorAll(".time__block");if(t.forEach((c=>c.addEventListener("click",(c=>{let s=Array.from(t).indexOf(c.target);t[s].classList.contains("time__block_active")?(t[s].classList.remove("time__block_active"),sessionStorage.removeItem("index"),sessionStorage.removeItem("filmName")):(t.forEach((e=>{e.classList.remove("time__block_active")})),sessionStorage.setItem("index",s),sessionStorage.setItem("filmName",e),console.log(sessionStorage.getItem("index")),t[s].classList.add("time__block_active"))})))),sessionStorage.length>0){let e=sessionStorage.getItem("index");console.log(+e),t[+e].classList.add("time__block_active")}}document.querySelector(`.${c}`),t&&s({localName:"_green_book",name:"Зеленая Книга",imageUrl:"assets/images/greenbook_m.jpg",ticketsHref:"/green-book-tickets.html",schedule:["10:15","10:55","12:05","13:15","13:55","14:45","16:15","17:00","18:05","18:55","19:30","20:05"],genres:[" Комедия "," Драма "," Биография "],year:"2019",country:"США",director:"Питер Фарелли",ageLimit:"16+",time:"02:10",trailerURL:""},t),t&&(t.classList.add(`${c}`),o(c));let i=document.querySelector(".schedule");i&&e.forEach((e=>{var t;Object.keys(e).length>10&&(t=e,i.insertAdjacentHTML("beforeend",`<div class="schedule-item ${t.alt}">\n            <img src="${t.image}" alt="${t.name}">\n            <div class="schedule-desc">\n                <h3>${t.name}</h3>\n                <div class="desc-main">\n                    <p>${t.year}</p>\n                    <p>${t.country}</p>\n                    <p>${t.director}</p>\n                    <p>${t.genres}</p>\n                    <p>${t.time}</p>\n                    <p>${t.parental}</p>\n                </div>\n            </div>   \n\n            <div class="schedule-seanses-body">\n                <div class="schedule-seanses"></div>\n                <div class="desc-details-trailer">\n                    <div class="__detail">\n                        <a href="${t.ticketsHref}"></a>\n                        <p>Подробнее</p>\n                    </div>\n                    <div class="__trailer">\n                        <a href="${t.trailerURL}"></a>\n                        <p>Смотреть трейлер</p>\n                    </div>\n                </div>\n            </div>    \n        </div>`),s(t,document.querySelector(`.${t.alt}`).querySelector(".schedule-seanses")),o(e.alt)),console.log(e.alt)}));let a=document.querySelectorAll(".date-body");a&&a.forEach((e=>e.addEventListener("click",(()=>{let t=e.getBoundingClientRect(),c=document.querySelector(".dates-pagination__bullet");c.style.left=t.left+"px",c.style.width=t.width+"px",a.forEach((e=>{e.classList.remove("date-body-active")})),e.classList.add("date-body-active")})))),function(){let e=document.querySelector(".right-cinema-slider");e&&e.querySelectorAll(".swiper-slide").forEach((function(e){e.addEventListener("click",(function(){let t=e.getAttribute("data-name");document.querySelectorAll(".background__image").forEach((function(e){t==e.getAttribute("data-name")?e.style.display="block":null==e.getAttribute("data-name")?e.style.display="":e.style.display="none"}))}))}))}(),function(){let e=document.querySelectorAll(".today__film");e&&e.forEach((function(e){e.addEventListener("click",(()=>{let t=document.querySelector(".tomorrow-soon").getBoundingClientRect(),c=e.getBoundingClientRect(),s=document.querySelector(".splitter__cell");s.style.left=c.left-t.left+"px",s.style.width=c.width+"px"}))}))}(),e.forEach((function(e){let t=document.querySelector(".afisha"),c=document.createElement("div");c.setAttribute("class","film-presentation"),c.setAttribute("data-name",`${e.alt}`),c.innerHTML=`<img src= "${e.image}" alt="${e.alt}"><div class="film-name"> <h5>${e.name}</h5> <p class="film-description">${e.description}</p><div class="parental-control">${e.parental}</div></div>`,t&&t.append(c)})),function(){let e=document.querySelector('[data-name = "green_book"]');e&&e.addEventListener("click",(function(){location.href="green-book-tickets.html"}))}();let r=document.querySelector(".seats-pattern"),d=[{},{},{occupied:!1,costs:300,row:1,seat:1},{occupied:!1,costs:300,row:1,seat:2},{occupied:!1,costs:300,row:1,seat:3},{occupied:!1,costs:400,row:1,seat:4},{occupied:!1,costs:400,row:1,seat:5},{occupied:!1,costs:400,row:1,seat:6},{},{},{},{},{},{},{occupied:!1,costs:400,row:1,seat:7},{occupied:!1,costs:400,row:1,seat:8},{occupied:!1,costs:400,row:1,seat:9},{occupied:!1,costs:400,row:1,seat:10},{occupied:!1,costs:300,row:1,seat:11},{occupied:!1,costs:300,row:1,seat:12},{},{},{},{},{occupied:!1,costs:300,row:2,seat:1},{occupied:!1,costs:300,row:2,seat:2},{occupied:!1,costs:300,row:2,seat:3},{occupied:!1,costs:300,row:2,seat:4},{occupied:!0},{occupied:!1,costs:300,row:2,seat:6},{occupied:!1,costs:300,row:2,seat:7},{occupied:!1,costs:400,row:2,seat:8},{occupied:!1,costs:400,row:2,seat:9},{occupied:!1,costs:400,row:2,seat:10},{occupied:!1,costs:400,row:2,seat:11},{occupied:!1,costs:400,row:2,seat:12},{occupied:!1,costs:400,row:2,seat:13},{occupied:!1,costs:400,row:2,seat:14},{occupied:!1,costs:400,row:2,seat:15},{occupied:!1,costs:300,row:2,seat:16},{occupied:!1,costs:300,row:2,seat:17},{occupied:!1,costs:300,row:2,seat:18},{},{},{},{},{occupied:!1,costs:300,row:3,seat:1},{occupied:!1,costs:300,row:3,seat:2},{occupied:!1,costs:300,row:3,seat:3},{occupied:!1,costs:300,row:3,seat:4},{occupied:!1,costs:300,row:3,seat:5},{occupied:!1,costs:300,row:3,seat:6},{occupied:!1,costs:300,row:3,seat:7},{occupied:!1,costs:300,row:3,seat:8},{occupied:!0},{occupied:!0},{occupied:!1,costs:400,row:3,seat:11},{occupied:!1,costs:400,row:3,seat:12},{occupied:!1,costs:400,row:3,seat:13},{occupied:!1,costs:400,row:3,seat:14},{occupied:!1,costs:400,row:3,seat:15},{occupied:!1,costs:400,row:3,seat:16},{occupied:!1,costs:300,row:3,seat:17},{occupied:!1,costs:300,row:3,seat:18},{},{},{},{},{occupied:!1,costs:300,row:4,seat:1},{occupied:!1,costs:300,row:4,seat:2},{occupied:!1,costs:300,row:4,seat:3},{occupied:!0},{occupied:!1,costs:400,row:4,seat:5},{occupied:!1,costs:400,row:4,seat:6},{occupied:!1,costs:400,row:4,seat:7},{occupied:!0},{occupied:!0},{occupied:!1,costs:300,row:4,seat:10},{occupied:!1,costs:300,row:4,seat:11},{occupied:!1,costs:300,row:4,seat:12},{occupied:!1,costs:300,row:4,seat:13},{occupied:!1,costs:300,row:4,seat:14},{occupied:!1,costs:300,row:4,seat:15},{occupied:!1,costs:300,row:4,seat:16},{occupied:!1,costs:300,row:4,seat:17},{occupied:!1,costs:300,row:4,seat:18},{},{},{},{},{occupied:!1,costs:300,row:5,seat:1},{occupied:!1,costs:300,row:5,seat:2},{occupied:!1,costs:300,row:5,seat:3},{occupied:!1,costs:300,row:5,seat:4},{occupied:!0},{occupied:!0},{occupied:!1,costs:300,row:5,seat:7},{occupied:!0},{occupied:!0},{occupied:!0},{occupied:!0},{occupied:!1,costs:300,row:5,seat:12},{occupied:!0},{occupied:!1,costs:400,row:5,seat:14},{occupied:!1,costs:400,row:5,seat:15},{occupied:!1,costs:400,row:5,seat:16},{occupied:!1,costs:400,row:5,seat:17},{occupied:!1,costs:300,row:5,seat:18},{},{},{},{},{occupied:!1,costs:300,row:6,seat:1},{occupied:!1,costs:300,row:6,seat:2},{occupied:!1,costs:300,row:6,seat:3},{occupied:!1,costs:300,row:6,seat:4},{occupied:!1,costs:400,row:6,seat:5},{occupied:!1,costs:400,row:6,seat:6},{occupied:!1,costs:400,row:6,seat:7},{occupied:!1,costs:400,row:6,seat:8},{occupied:!0},{occupied:!1,costs:300,row:6,seat:10},{occupied:!0},{occupied:!1,costs:300,row:6,seat:12},{occupied:!0},{occupied:!1,costs:300,row:6,seat:14},{occupied:!1,costs:300,row:6,seat:15},{occupied:!1,costs:300,row:6,seat:16},{occupied:!1,costs:300,row:6,seat:17},{occupied:!1,costs:300,row:6,seat:18},{},{},{occupied:!1,costs:300,row:7,seat:1},{occupied:!1,costs:300,row:7,seat:2},{occupied:!1,costs:300,row:7,seat:3},{occupied:!1,costs:300,row:7,seat:4},{occupied:!0},{occupied:!1,costs:300,row:7,seat:6},{occupied:!1,costs:300,row:7,seat:7},{occupied:!1,costs:300,row:7,seat:8},{occupied:!0},{occupied:!1,costs:300,row:7,seat:10},{occupied:!0},{occupied:!1,costs:300,row:7,seat:12},{occupied:!0},{occupied:!1,costs:400,row:7,seat:14},{occupied:!1,costs:400,row:7,seat:15},{occupied:!1,costs:400,row:7,seat:16},{occupied:!1,costs:400,row:7,seat:17},{occupied:!0},{occupied:!1,costs:300,row:7,seat:19},{occupied:!1,costs:300,row:7,seat:20},{occupied:!1,costs:300,row:7,seat:21},{occupied:!1,costs:300,row:7,seat:22},{occupied:!1,costs:300,row:8,seat:1},{occupied:!1,costs:300,row:8,seat:2},{occupied:!1,costs:300,row:8,seat:3},{occupied:!1,costs:300,row:8,seat:4},{occupied:!0},{occupied:!1,costs:300,row:8,seat:6},{occupied:!1,costs:300,row:8,seat:7},{occupied:!1,costs:300,row:8,seat:8},{occupied:!1,costs:300,row:8,seat:9},{occupied:!0},{occupied:!1,costs:400,row:8,seat:11},{occupied:!0},{occupied:!1,costs:400,row:8,seat:13},{occupied:!1,costs:400,row:8,seat:14},{occupied:!0},{occupied:!1,costs:400,row:8,seat:16},{occupied:!1,costs:400,row:8,seat:17},{occupied:!1,costs:400,row:8,seat:18},{occupied:!1,costs:400,row:8,seat:19},{occupied:!0},{occupied:!1,costs:300,row:8,seat:21},{occupied:!1,costs:300,row:8,seat:22},{occupied:!1,costs:300,row:9,seat:1},{occupied:!1,costs:300,row:9,seat:2},{occupied:!1,costs:300,row:9,seat:3},{occupied:!1,costs:300,row:9,seat:4},{occupied:!1,costs:300,row:9,seat:5},{occupied:!1,costs:300,row:9,seat:6},{occupied:!0},{occupied:!1,costs:300,row:9,seat:8},{occupied:!1,costs:300,row:9,seat:9},{occupied:!1,costs:300,row:9,seat:10},{occupied:!0},{occupied:!0},{occupied:!0},{occupied:!1,costs:300,row:9,seat:14},{occupied:!1,costs:300,row:9,seat:15},{occupied:!1,costs:300,row:9,seat:16},{occupied:!1,costs:300,row:9,seat:17},{occupied:!1,costs:300,row:9,seat:18},{occupied:!0},{occupied:!1,costs:300,row:9,seat:20},{occupied:!1,costs:300,row:9,seat:21},{occupied:!1,costs:300,row:9,seat:22}];r&&d.forEach((function(e){!function(e){let t=document.createElement("div");1==e.occupied?t.className="seat _occupied":0==e.occupied?t.className="seat _free":t.className="seat",r.append(t)}(e)}));const n=new Array;function u(e,t,c,s){let o=document.querySelector('.choosen__ticket[data-index="'+t+'"]');if(e[t].classList.contains("choosen"))c.push(s[t].costs),e[t].setAttribute("data-index",`${t}`),function(e,t){m&&m.insertAdjacentHTML("beforeend",` <div class="choosen__ticket" data-index= ${t}>\n        <div class="picked-row-seat">${e[t].row}ряд, ${e[t].seat} место</div>\n        <div class="picked-seat-cost">\n           <p>${e[t].costs} P</p> \n           <button data-index = '${t}' class='x-button'></button>\n        </div>\n    </div>`)}(s,t);else{let i=c.findIndex((function(e){return e==s[t].costs}));o.remove(),e[t].removeAttribute("data-index"),c.splice(i,1)}}function l(e,t){if(e.includes(t)){let c=e.findIndex((function(e){return e==t}));e.splice(c,1)}else e.push(t)}function p(e){return 0!==e.length?e.reduce((function(e,t){return e+t})):0}let m=document.querySelector(".choosen-tickets");m&&m.addEventListener("click",(e=>{if("x-button"===e.target.className){let t=e.target.parentNode.parentNode.getAttribute("data-index");w[+t].classList.remove("choosen"),l(g,+t),u(w,+t,n,d),document.querySelector(".summ").innerText=p(n)}}));let w=document.querySelectorAll(".seat");const g=new Array;w&&w.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault;let t=Array.from(w).indexOf(e.target);w[t].classList.toggle("choosen"),u(w,t,n,d),l(g,t),document.querySelector(".summ").innerText=p(n)}))}));r&&(document.querySelector(".picked-cinema__room").innerText="ЗАЛ 5",document.querySelector(".picked-cinema__resolution").innerText="2D",document.querySelector(".picked-cinema__time").innerText="19:30");let f=document.querySelector(".seats-columns"),y=document.querySelector(".seats-rows");r&&(f.style.width=r.offsetWidth+"px",y.style.height=r.offsetHeight+"px",f.style.marginLeft=document.querySelector(".seats-wrapper").offsetWidth-r.offsetWidth+"px");let _=document.querySelector(".modal-window");function h(e,t){let c=document.createElement("li");c.innerHTML=e,t.append(c)}function v(e,t){for(let c=1;c<=e;c++)h(c,t)}_&&function(){let e=document.querySelector(".buy-tickets"),t=document.querySelector(".close"),c=document.querySelector(".modal-background"),s=document.querySelector(".modal-window-wrapper");e.addEventListener("click",(()=>{_.querySelector(".modal-pay").innerText="Оплатить "+p(n)+"P",_.classList.add("modal-active"),c.style.display="block",s.style.display="block"})),t.addEventListener("click",(()=>{_.classList.remove("modal-active"),c.style.display="",s.style.display=""}))}(),r&&(v(22,f),v(9,y));let k=document.querySelector(".burger-menu");k&&k.addEventListener("click",(function(){document.querySelector(".header-aside-bar").classList.toggle("nav-active"),k.classList.toggle("burger-cross")}))}();